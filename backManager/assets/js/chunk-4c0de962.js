(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4c0de962"],{4462:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"text-box"},[a("div",{staticClass:"choose"},[a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{size:"small"},on:{click:e.confirmNew}},[e._v("新建优惠券")])],1),a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"优惠券",name:"first"}})],1),a("div",{staticClass:"showTable"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableSale}},[a("el-table-column",{attrs:{label:"名称",prop:"couponName"}}),a("el-table-column",{attrs:{label:"使用规则",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v("①"+e._s(0===t.row.couponType?"不限制使用门槛":"满"+t.row.useMinPrice+"减"+t.row.couponPrice))]),a("div",[e._v("②所有人可领取")]),a("div",[e._v("③商品限制:"+e._s(t.row.usableGoods?t.row.usableGoods:"所有商品"))])]}}])}),a("el-table-column",{attrs:{label:"有效期",width:"360"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(t.row.startTime)+" 至 "+e._s(t.row.endTime))])]}}])}),a("el-table-column",{attrs:{label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(e._f("productType")(t.row.status)))])]}}])}),a("el-table-column",{attrs:{label:"发放数量",prop:"totalCount"}}),a("el-table-column",{attrs:{label:"使用数量"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(t.row.totalCount-t.row.remainCount))])]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.updateCoupon(t.row)}}},[e._v("更新优惠券")])],1)]}}])})],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.totalSaleNumber>0,expression:"totalSaleNumber>0"}],staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next, total",total:e.totalSaleNumber,"current-page.sync":"currentPage"},on:{"current-change":e.currentChange}})],1)],1)},l=[],n=a("365c"),u={data:function(){return{activeName:"sale",options:[{value:0,label:"处方药"},{value:1,label:"非处方药"}],pageSaleNumber:0,pageSoldoutNumber:0,totalSaleNumber:0,currentPage:1,totalSoldoutNumber:0,pageSize:10,tableSale:null,tableSoldout:null}},methods:{confirmNew:function(){console.log("confirmNew"),this.$router.push("newCoupon")},currentChange:function(e){var t={pageNumber:e-1,pageSize:10};this.getList(t)},getList:function(e){var t=this;Object(n["b"])(e).then((function(e){1===e.code?(t.tableSale=e.data.pageList,t.totalSaleNumber=e.data.totalElements):t.$message({message:e.msg,type:"error"})}))},updateCoupon:function(e){e.id&&this.$router.push({path:"newCoupon",query:{coupon:e}})}},filters:{productType:function(e){return 0===e?"未激活":1===e?"未激活":"已过期或者发放完毕"}},mounted:function(){var e={pageNumber:0,pageSize:10};this.getList(e)}},r=u,s=(a("c4b2"),a("2877")),c=Object(s["a"])(r,o,l,!1,null,"35cace49",null);t["default"]=c.exports},c4b2:function(e,t,a){"use strict";var o=a("ce1e"),l=a.n(o);l.a},ce1e:function(e,t,a){}}]);